5 PRINT 'Input N: '
10 INPUT N
15 T=0
20 F=1
30 D=3
40 B=2
50 GOSUB 100
55 PRINT ""
60 PRINT 'Total steps: '
70 PRINT T
80 END
100 REM Hanoi Tower
110 PUSH N
120 PUSH F
130 PUSH D
140 PUSH B
150 IF N>1 THEN GOTO 200
155 T=T+1
160 PRINT F;
170 PRINT '->'
180 PRINT D;
185 PRINT ' '
190 GOTO 450
200 N=N-1
210 REM Swap D and B
220 PUSH D
230 PUSH B
240 POP D
250 POP B
260 GOSUB 100
270 PUSH N
280 N=1
290 D=B
300 GOSUB 100
310 POP N
320 REM Restore F, D and B
330 POP B
340 POP D
350 POP F
360 PUSH F
370 PUSH D
380 PUSH B
390 REM Swap F and B
400 PUSH F
410 PUSH B
420 POP F
430 POP B
440 GOSUB 100
450 POP B
460 POP D
470 POP F
480 POP N
490 RETURN
